{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"resetpasswords\",\n\n  data() {\n    let testpassword = (rule, value, callback) => {\n      const pat0 = /^[\\w-_]{6,32}$/; //密码的规则0\n\n      const pat1 = /^[0-9]{6,32}$/; //密码的规则1\n\n      const pat2 = /^[-_]{6,32}$/; //密码的规则2\n\n      const pat3 = /^[a-zA-Z]{6,32}$/; //密码的规则3\n\n      if (pat1.test(value) || pat2.test(value) || pat3.test(value)) {\n        callback(new Error('*密码需长度为6-32位，且字母，数字或者特殊字符（-_）至少包含两种'));\n        return false;\n      } else {\n        if (pat0.test(value)) {\n          callback();\n          return true;\n        } else {\n          callback(new Error('*密码需长度为6-32位，且字母，数字或者特殊字符（-_）至少包含两种'));\n          return false;\n        }\n      }\n    };\n\n    let WhetherSame = (rule, value, callback) => {\n      if (value !== this.ruleForm.pw1) {\n        callback(new Error('*请两次输入的密码保持一致'));\n        return false;\n      } else {\n        callback();\n        return true;\n      }\n    };\n\n    return {\n      ruleForm: {\n        pw1: '',\n        pw2: ''\n      },\n      editRules: {\n        pw1: [{\n          required: true,\n          message: '请输入新密码',\n          trigger: 'blur'\n        }, {\n          validator: testpassword,\n          trigger: 'blur'\n        }],\n        pw2: [{\n          required: true,\n          message: '请再次确认密码',\n          trigger: 'blur'\n        }, {\n          validator: WhetherSame,\n          trigger: 'blur',\n          required: true\n        }]\n      }\n    };\n  },\n\n  created() {},\n\n  methods: {\n    submit_check() {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          alert('submit!');\n        } else {\n          return false;\n        }\n      });\n    } // submitform(){\n    //     request.post(\"http://localhost:8080/resetPassword\",this.ruleForm).then(res =>{\n    //\n    //     })\n    // }\n\n\n  }\n};","map":{"version":3,"sources":["E:/Git/Git/ss2022_group16/Lab3/vueadmin-vue/src/assets/js/resetpasswords.js"],"names":["request","name","data","testpassword","rule","value","callback","pat0","pat1","pat2","pat3","test","Error","WhetherSame","ruleForm","pw1","pw2","editRules","required","message","trigger","validator","created","methods","submit_check","$refs","validate","valid","alert"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,iBAApB;AAEA,eAAe;AACXC,EAAAA,IAAI,EAAE,gBADK;;AAEXC,EAAAA,IAAI,GAAE;AACF,QAAIC,YAAY,GAAG,CAACC,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA0B;AACzC,YAAMC,IAAI,GAAC,gBAAX,CADyC,CACb;;AAC5B,YAAMC,IAAI,GAAC,eAAX,CAFyC,CAEd;;AAC3B,YAAMC,IAAI,GAAC,cAAX,CAHyC,CAGf;;AAC1B,YAAMC,IAAI,GAAC,kBAAX,CAJyC,CAIX;;AAC9B,UAAGF,IAAI,CAACG,IAAL,CAAUN,KAAV,KAAkBI,IAAI,CAACE,IAAL,CAAUN,KAAV,CAAlB,IAAoCK,IAAI,CAACC,IAAL,CAAUN,KAAV,CAAvC,EAAwD;AACrDC,QAAAA,QAAQ,CAAC,IAAIM,KAAJ,CAAU,qCAAV,CAAD,CAAR;AACA,eAAO,KAAP;AACF,OAHD,MAIK;AACD,YAAGL,IAAI,CAACI,IAAL,CAAUN,KAAV,CAAH,EAAoB;AAChBC,UAAAA,QAAQ;AACR,iBAAO,IAAP;AACH,SAHD,MAIK;AACDA,UAAAA,QAAQ,CAAC,IAAIM,KAAJ,CAAU,qCAAV,CAAD,CAAR;AACA,iBAAO,KAAP;AACH;AACJ;AACJ,KAnBD;;AAoBA,QAAIC,WAAW,GAAG,CAACT,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA0B;AACxC,UAAGD,KAAK,KAAG,KAAKS,QAAL,CAAcC,GAAzB,EAA6B;AACzBT,QAAAA,QAAQ,CAAC,IAAIM,KAAJ,CAAU,eAAV,CAAD,CAAR;AACA,eAAO,KAAP;AACH,OAHD,MAII;AACAN,QAAAA,QAAQ;AACR,eAAO,IAAP;AACH;AACJ,KATD;;AAUA,WAAM;AACFQ,MAAAA,QAAQ,EAAC;AACLC,QAAAA,GAAG,EAAC,EADC;AAELC,QAAAA,GAAG,EAAC;AAFC,OADP;AAKFC,MAAAA,SAAS,EAAG;AACRF,QAAAA,GAAG,EAAE,CACD;AAACG,UAAAA,QAAQ,EAAE,IAAX;AAAiBC,UAAAA,OAAO,EAAE,QAA1B;AAAoCC,UAAAA,OAAO,EAAE;AAA7C,SADC,EAED;AAACC,UAAAA,SAAS,EAAElB,YAAZ;AAAyBiB,UAAAA,OAAO,EAAE;AAAlC,SAFC,CADG;AAKRJ,QAAAA,GAAG,EAAC,CACA;AAACE,UAAAA,QAAQ,EAAE,IAAX;AAAiBC,UAAAA,OAAO,EAAE,SAA1B;AAAqCC,UAAAA,OAAO,EAAE;AAA9C,SADA,EAEA;AAACC,UAAAA,SAAS,EAAER,WAAZ;AAAwBO,UAAAA,OAAO,EAAE,MAAjC;AAAyCF,UAAAA,QAAQ,EAAE;AAAnD,SAFA;AALI;AALV,KAAN;AAgBH,GAjDU;;AAmDXI,EAAAA,OAAO,GAAE,CACR,CApDU;;AAqDXC,EAAAA,OAAO,EAAC;AACJC,IAAAA,YAAY,GAAG;AACX,WAAKC,KAAL,CAAWX,QAAX,CAAoBY,QAApB,CAA8BC,KAAD,IAAW;AACpC,YAAIA,KAAJ,EAAW;AACPC,UAAAA,KAAK,CAAC,SAAD,CAAL;AACH,SAFD,MAGK;AACD,iBAAO,KAAP;AACH;AACJ,OAPD;AAQH,KAVG,CAWJ;AACA;AACA;AACA;AACA;;;AAfI;AArDG,CAAf","sourcesContent":["import request from \"@/utils/request\";\r\n\r\nexport default {\r\n    name: \"resetpasswords\",\r\n    data(){\r\n        let testpassword = (rule, value, callback) =>{\r\n            const pat0=/^[\\w-_]{6,32}$/;//密码的规则0\r\n            const pat1=/^[0-9]{6,32}$/;//密码的规则1\r\n            const pat2=/^[-_]{6,32}$/;//密码的规则2\r\n            const pat3=/^[a-zA-Z]{6,32}$/;//密码的规则3\r\n            if(pat1.test(value)||pat2.test(value)||pat3.test(value)){\r\n               callback(new Error('*密码需长度为6-32位，且字母，数字或者特殊字符（-_）至少包含两种'));\r\n               return false;\r\n            }\r\n            else {\r\n                if(pat0.test(value)){\r\n                    callback();\r\n                    return true;\r\n                }\r\n                else {\r\n                    callback(new Error('*密码需长度为6-32位，且字母，数字或者特殊字符（-_）至少包含两种'));\r\n                    return false;\r\n                }\r\n            }\r\n        };\r\n        let WhetherSame = (rule, value, callback) =>{\r\n            if(value!==this.ruleForm.pw1){\r\n                callback(new Error('*请两次输入的密码保持一致'));\r\n                return false;\r\n            }\r\n            else{\r\n                callback();\r\n                return true;\r\n            }\r\n        };\r\n        return{\r\n            ruleForm:{\r\n                pw1:'',\r\n                pw2:''\r\n            },\r\n            editRules :({\r\n                pw1: [\r\n                    {required: true, message: '请输入新密码', trigger: 'blur' },\r\n                    {validator: testpassword,trigger: 'blur'}\r\n                ],\r\n                pw2:[\r\n                    {required: true, message: '请再次确认密码', trigger: 'blur',},\r\n                    {validator: WhetherSame,trigger: 'blur', required: true}\r\n                ],\r\n            }),\r\n        }\r\n    },\r\n\r\n    created(){\r\n    },\r\n    methods:{\r\n        submit_check() {\r\n            this.$refs.ruleForm.validate((valid) => {\r\n                if (valid) {\r\n                    alert('submit!');\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        // submitform(){\r\n        //     request.post(\"http://localhost:8080/resetPassword\",this.ruleForm).then(res =>{\r\n        //\r\n        //     })\r\n        // }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}