{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport Nav from \"@/views/inc/Nav.vue\";\nexport default {\n  name: \"userManage\",\n  components: {\n    Nav\n  },\n\n  data() {\n    return {\n      dialogVisible: false,\n      ruleForm: {},\n      editRules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }, {\n          pattern: '^[a-zA-Z\\u4e00-\\u9fa5]+$',\n          message: '输入只能为中英文',\n          trigger: 'change'\n        }],\n        id: [{\n          required: true,\n          message: '请输入学号/工号',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          message: '输入只能为数字',\n          trigger: 'change'\n        }],\n        idNumber: [{\n          required: true,\n          message: '请输入身份证号',\n          trigger: 'blur'\n        }, {\n          pattern: '/(^\\\\d{15}$)|(^\\\\d{18}$)|(^\\\\d{17}(\\\\d|X|x)$)/',\n          message: '输入格式不正确，请检查输入',\n          trigger: 'blur'\n        }],\n        phoneNumber: [{\n          pattern: '^1[0-9]{10}$',\n          message: '请输入以1开头的11位数字',\n          trigger: 'blur'\n        }],\n        email: [{\n          pattern: '/^([a-zA-Z0-9]+[-_\\\\.]?)+@[a-zA-Z0-9]+\\\\.[a-z]+$/',\n          message: '邮箱格式不正确，请重新输入',\n          trigger: 'blur'\n        }],\n        role: [{\n          required: true,\n          message: '请选择角色',\n          trigger: 'blur'\n        }]\n      },\n      tableData: [{\n        role: '0',\n        name: 'admin',\n        id: '000000',\n        idNumber: '123456789012345678',\n        phoneNumber: '12345678901',\n        email: '12345678901@test.cn'\n      }]\n    };\n  },\n\n  created() {},\n\n  methods: {\n    getUserForm() {\n      this.$axios.get(\"/sys/menu/list\").then(res => {\n        this.tableData = res.data.data;\n      });\n    },\n\n    submitForm() {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          //this.$axios.post('/sys/menu/'+(this.ruleForm.id?'update':'save'),this.ruleForm)\n          //.then(res=>{\n          this.$message({\n            showClose: true,\n            message: '添加成功',\n            type: 'success',\n            onClose: () => {\n              this.getUserForm();\n            } //})\n\n          });\n        } else {\n          this.$nextTick(() => {\n            this.scrollToTop(this.$refs[formName].$el);\n          });\n        }\n      });\n    },\n\n    nameCheck() {\n      const relu = \"^[a-zA-Z\\u4e00-\\u9fa5]+$\";\n      const re = new RegExp(relu);\n\n      if (this.value.search(re) !== -1) {} else {\n        message: '输入只能为中英文！';\n      }\n    },\n\n    editHandle(id) {\n      this.$axios.get('/sys/menu/info/' + id).then(res => {\n        this.ruleForm = res.data.data;\n        this.dialogVisible = true;\n      });\n    },\n\n    scrollToTop(node) {\n      const ChildHasError = Array.from(node.querySelectorAll('.is-error'));\n      if (!ChildHasError.length) throw new Error('有错误，但是找不到错误位置');\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["Nav","name","components","data","dialogVisible","ruleForm","editRules","required","message","trigger","pattern","id","type","idNumber","phoneNumber","email","role","tableData","created","methods","getUserForm","$axios","get","then","res","submitForm","$refs","validate","valid","$message","showClose","onClose","$nextTick","scrollToTop","formName","$el","nameCheck","relu","re","RegExp","value","search","editHandle","node","ChildHasError","Array","from","querySelectorAll","length","Error"],"sourceRoot":"","sources":["D:\\git\\ss2022_group16\\ss2022_group16\\Lab3\\vueadmin-vue\\src\\views\\passwordreset.vue"],"sourcesContent":["<template>\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>重置密码</title>\r\n  </head>\r\n\r\n  <body>\r\n  <div class=\"pwreset\">\r\n      <el-form\r\n          ref=\"ruleForm\"\r\n          :model=\"ruleForm\"\r\n          :rules=\"editRules\"\r\n          label-width=\"120px\"\r\n          class=\"demo-ruleForm\"\r\n          :size=\"formSize\"\r\n        >\r\n        <el-form-item placeholder=\"请输入新密码\" prop=\"newpw\">\r\n          <el-input v-model=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"请再次确认密码\" prop=\"repw\">\r\n          <el-input v-model=\"ruleForm.id\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm\" >确认</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n  </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport Nav from \"@/views/inc/Nav.vue\";\r\nexport default {\r\n  name: \"userManage\",\r\n  components:{\r\n    Nav\r\n  },\r\n  data(){\r\n    return{\r\n      dialogVisible:false,\r\n      ruleForm:{\r\n      },\r\n      editRules :({\r\n        name: [\r\n          { required: true, message: '请输入姓名', trigger: 'blur' },\r\n          {pattern:'^[a-zA-Z\\u4e00-\\u9fa5]+$',message: '输入只能为中英文',trigger: 'change'}\r\n        ],\r\n        id: [\r\n          {\r\n            required: true,\r\n            message: '请输入学号/工号',\r\n            trigger: 'blur',\r\n          },\r\n          { type:'number',message:'输入只能为数字',trigger: 'change'}\r\n        ],\r\n        idNumber: [\r\n          {\r\n            required: true,\r\n            message: '请输入身份证号',\r\n            trigger: 'blur',\r\n          },\r\n          {pattern:'/(^\\\\d{15}$)|(^\\\\d{18}$)|(^\\\\d{17}(\\\\d|X|x)$)/',message:'输入格式不正确，请检查输入',trigger: 'blur'}\r\n        ],\r\n        phoneNumber:[\r\n          {pattern:'^1[0-9]{10}$',message:'请输入以1开头的11位数字',trigger:'blur',}\r\n        ],\r\n        email:[\r\n          {pattern:'/^([a-zA-Z0-9]+[-_\\\\.]?)+@[a-zA-Z0-9]+\\\\.[a-z]+$/',message:'邮箱格式不正确，请重新输入',trigger:'blur',}\r\n        ],\r\n        role: [\r\n          {\r\n            required: true,\r\n            message: '请选择角色',\r\n            trigger: 'blur',\r\n          },\r\n        ]\r\n      }),\r\n      tableData : [\r\n        {\r\n          role: '0',\r\n          name: 'admin',\r\n          id:'000000',\r\n          idNumber:'123456789012345678',\r\n          phoneNumber:'12345678901',\r\n          email:'12345678901@test.cn'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created(){\r\n\r\n  },\r\n\r\n  methods:{\r\n    getUserForm(){\r\n      this.$axios.get(\"/sys/menu/list\").then(res=>{\r\n        this.tableData=res.data.data;\r\n      })\r\n    },\r\n    submitForm(){\r\n      this.$refs.ruleForm.validate(valid=>{\r\n        if(valid){\r\n          //this.$axios.post('/sys/menu/'+(this.ruleForm.id?'update':'save'),this.ruleForm)\r\n          //.then(res=>{\r\n          this.$message({\r\n                showClose: true,\r\n                message: '添加成功',\r\n                type: 'success',\r\n                onClose:()=>{\r\n                  this.getUserForm()\r\n                }\r\n                //})\r\n              }\r\n          )\r\n        }\r\n        else{\r\n          this.$nextTick(() => {\r\n            this.scrollToTop(this.$refs[formName].$el)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    nameCheck () {\r\n      const relu = \"^[a-zA-Z\\u4e00-\\u9fa5]+$\";\r\n      const re = new RegExp(relu);\r\n      if (this.value.search(re) !== -1){\r\n      } else {\r\n        message:'输入只能为中英文！'\r\n      }\r\n    },\r\n    editHandle(id){\r\n      this.$axios.get('/sys/menu/info/'+id).then(res=>{\r\n        this.ruleForm=res.data.data;\r\n        this.dialogVisible=true;\r\n      })\r\n    },\r\n    scrollToTop (node) {\r\n      const ChildHasError = Array.from(node.querySelectorAll('.is-error'))\r\n      if (!ChildHasError.length) throw new Error('有错误，但是找不到错误位置')\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!--<template>-->\r\n<!--  <html lang=\"zh-CN\" xmlns:th=\"http://www.thymeleaf.org\">-->\r\n<!--  <form class=\"Preset\" th:action=\"@{/resetPassword}\" >-->\r\n<!--    <h1 style=\"text-align:center\">首次登录请重置密码</h1>-->\r\n<!--    <h4 style=\"text-align:center\">密码需包含大小写字母、数字及字符</h4>-->\r\n\r\n<!--    &lt;!&ndash;如果msg不为空，提示错误&ndash;&gt;-->\r\n<!--    <p style=\"color:red\" th:text=\"${msg}\" th:if=\"${not #strings.isEmpty(msg)}\"></p>-->\r\n\r\n<!--    <input onblur=\"testpassword()\" type=\"password\" id = \"newPassword1\" name=\"newPassword1\" placeholder=\"请输入新密码\">-->\r\n<!--    <span id=\"warn_msg\" style=\"align-content: center;\" >&nbsp;</span>-->\r\n<!--    <input onblur=\"WhetherSame()\" type=\"password\" id = \"newPassword2\" name=\"newPassword2\" placeholder=\"请再次输入密码\">-->\r\n<!--    <input type=\"submit\" value=\"确认\" onclick=\"return submit_check()\" class=\"verify\">-->\r\n<!--  </form>-->\r\n<!--  </html>-->\r\n<!--</template>-->\r\n<!--<script src=\"../assets/js/resetpasswords.js\"></script>-->\r\n<!--<style scoped>-->\r\n<!--@import \"../assets/css/resetPassword.css\";-->\r\n<!--</style>-->"]},"metadata":{},"sourceType":"module"}