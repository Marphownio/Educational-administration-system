{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport Nav from \"@/views/inc/Nav.vue\";\nexport default {\n  name: \"personal_infor\",\n  components: {\n    Nav\n  },\n\n  data() {\n    let phonecheck = (rule, value, callback) => {\n      const pat0 = /^1[0-9]{10}$/;\n\n      if (value === \"\") {\n        callback(new Error('请输入手机号码'));\n        return false;\n      } else {\n        if (!pat0.test(value)) {\n          callback(new Error('请输入以1开头的11位数字'));\n          return false;\n        } else {\n          callback();\n          return true;\n        }\n      }\n    };\n\n    let emailcheck = (rule, value, callback) => {\n      const pat0 = /^[\\w\\.\\_\\-]+@([\\w\\_\\-]\\.+)+\\w+$/;\n\n      if (value === \"\") {\n        callback(new Error('请输入新邮箱地址'));\n        return false;\n      } else {\n        if (!pat0.test(value)) {\n          callback(new Error('邮箱格式不正确'));\n          return false;\n        } else {\n          callback();\n          return true;\n        }\n      }\n    };\n\n    return {\n      ruleForm2: {\n        newemailaddress: ''\n      },\n      editRules2: {\n        newemailaddress: [{\n          validator: emailcheck,\n          trigger: 'blur'\n        }]\n      },\n      dialogVisible2: false,\n      ruleForm1: {\n        newphonenumber: ''\n      },\n      editRules1: {\n        newphonenumber: [{\n          validator: phonecheck,\n          trigger: 'blur'\n        }]\n      },\n      dialogVisible1: false\n    };\n  },\n\n  methods: {\n    submit_check1() {\n      this.$refs.ruleForm1.validate(valid => {\n        if (valid) {\n          this.dialogVisible1 = false;\n          alert('手机号码修改成功!');\n        } else {\n          return false;\n        }\n      });\n    },\n\n    submit_check2() {\n      this.$refs.ruleForm2.validate(valid => {\n        if (valid) {\n          this.dialogVisible2 = false;\n          alert('邮箱地址修改成功!');\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"sources":["D:/git/ss2022_group16/ss2022_group16/Lab3/vueadmin-vue/src/assets/js/personal_infor.js"],"names":["Nav","name","components","data","phonecheck","rule","value","callback","pat0","Error","test","emailcheck","ruleForm2","newemailaddress","editRules2","validator","trigger","dialogVisible2","ruleForm1","newphonenumber","editRules1","dialogVisible1","methods","submit_check1","$refs","validate","valid","alert","submit_check2"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,qBAAhB;AACA,eAAe;AACXC,EAAAA,IAAI,EAAE,gBADK;AAEXC,EAAAA,UAAU,EAAC;AACPF,IAAAA;AADO,GAFA;;AAKXG,EAAAA,IAAI,GAAE;AACF,QAAIC,UAAU,GAAE,CAACC,IAAD,EAAMC,KAAN,EAAYC,QAAZ,KAAuB;AACnC,YAAMC,IAAI,GAAC,cAAX;;AACA,UAAIF,KAAK,KAAG,EAAZ,EAAe;AACXC,QAAAA,QAAQ,CAAC,IAAIE,KAAJ,CAAU,SAAV,CAAD,CAAR;AACA,eAAO,KAAP;AACH,OAHD,MAIK;AACD,YAAG,CAACD,IAAI,CAACE,IAAL,CAAUJ,KAAV,CAAJ,EAAqB;AACjBC,UAAAA,QAAQ,CAAC,IAAIE,KAAJ,CAAU,eAAV,CAAD,CAAR;AACA,iBAAO,KAAP;AACH,SAHD,MAIK;AACDF,UAAAA,QAAQ;AACR,iBAAO,IAAP;AACH;AACJ;AACJ,KAhBD;;AAiBA,QAAII,UAAU,GAAE,CAACN,IAAD,EAAMC,KAAN,EAAYC,QAAZ,KAAuB;AACnC,YAAMC,IAAI,GAAC,iCAAX;;AACA,UAAIF,KAAK,KAAG,EAAZ,EAAe;AACXC,QAAAA,QAAQ,CAAC,IAAIE,KAAJ,CAAU,UAAV,CAAD,CAAR;AACA,eAAO,KAAP;AACH,OAHD,MAIK;AACD,YAAG,CAACD,IAAI,CAACE,IAAL,CAAUJ,KAAV,CAAJ,EAAqB;AACjBC,UAAAA,QAAQ,CAAC,IAAIE,KAAJ,CAAU,SAAV,CAAD,CAAR;AACA,iBAAO,KAAP;AACH,SAHD,MAIK;AACDF,UAAAA,QAAQ;AACR,iBAAO,IAAP;AACH;AACJ;AACJ,KAhBD;;AAiBA,WAAM;AACFK,MAAAA,SAAS,EAAC;AACNC,QAAAA,eAAe,EAAC;AADV,OADR;AAIFC,MAAAA,UAAU,EAAE;AACRD,QAAAA,eAAe,EAAC,CACZ;AAACE,UAAAA,SAAS,EAAEJ,UAAZ;AAAuBK,UAAAA,OAAO,EAAE;AAAhC,SADY;AADR,OAJV;AASFC,MAAAA,cAAc,EAAC,KATb;AAUFC,MAAAA,SAAS,EAAC;AACNC,QAAAA,cAAc,EAAC;AADT,OAVR;AAaFC,MAAAA,UAAU,EAAE;AACRD,QAAAA,cAAc,EAAC,CACX;AAACJ,UAAAA,SAAS,EAAEX,UAAZ;AAAuBY,UAAAA,OAAO,EAAE;AAAhC,SADW;AADP,OAbV;AAkBFK,MAAAA,cAAc,EAAC;AAlBb,KAAN;AAoBH,GA5DU;;AA6DXC,EAAAA,OAAO,EAAC;AACJC,IAAAA,aAAa,GAAG;AACZ,WAAKC,KAAL,CAAWN,SAAX,CAAqBO,QAArB,CAA+BC,KAAD,IAAW;AACrC,YAAIA,KAAJ,EAAW;AACP,eAAKL,cAAL,GAAoB,KAApB;AACAM,UAAAA,KAAK,CAAC,WAAD,CAAL;AACH,SAHD,MAIK;AACD,iBAAO,KAAP;AACH;AACJ,OARD;AASH,KAXG;;AAYJC,IAAAA,aAAa,GAAG;AACZ,WAAKJ,KAAL,CAAWZ,SAAX,CAAqBa,QAArB,CAA+BC,KAAD,IAAW;AACrC,YAAIA,KAAJ,EAAW;AACP,eAAKT,cAAL,GAAoB,KAApB;AACAU,UAAAA,KAAK,CAAC,WAAD,CAAL;AACH,SAHD,MAIK;AACD,iBAAO,KAAP;AACH;AACJ,OARD;AASH;;AAtBG;AA7DG,CAAf","sourcesContent":["import Nav from \"@/views/inc/Nav.vue\";\r\nexport default {\r\n    name: \"personal_infor\",\r\n    components:{\r\n        Nav\r\n    },\r\n    data(){\r\n        let phonecheck =(rule,value,callback)=>{\r\n            const pat0=/^1[0-9]{10}$/;\r\n            if (value===\"\"){\r\n                callback(new Error('请输入手机号码'));\r\n                return false;\r\n            }\r\n            else {\r\n                if(!pat0.test(value)){\r\n                    callback(new Error('请输入以1开头的11位数字'));\r\n                    return false;\r\n                }\r\n                else {\r\n                    callback();\r\n                    return true;\r\n                }\r\n            }\r\n        };\r\n        let emailcheck =(rule,value,callback)=>{\r\n            const pat0=/^[\\w\\.\\_\\-]+@([\\w\\_\\-]\\.+)+\\w+$/;\r\n            if (value===\"\"){\r\n                callback(new Error('请输入新邮箱地址'));\r\n                return false;\r\n            }\r\n            else {\r\n                if(!pat0.test(value)){\r\n                    callback(new Error('邮箱格式不正确'));\r\n                    return false;\r\n                }\r\n                else {\r\n                    callback();\r\n                    return true;\r\n                }\r\n            }\r\n        };\r\n        return{\r\n            ruleForm2:{\r\n                newemailaddress:''\r\n            },\r\n            editRules2:({\r\n                newemailaddress:[\r\n                    {validator: emailcheck,trigger: 'blur'},\r\n                ],\r\n            }),\r\n            dialogVisible2:false,\r\n            ruleForm1:{\r\n                newphonenumber:''\r\n            },\r\n            editRules1:({\r\n                newphonenumber:[\r\n                    {validator: phonecheck,trigger: 'blur'},\r\n                ],\r\n            }),\r\n            dialogVisible1:false,\r\n        };\r\n    },\r\n    methods:{\r\n        submit_check1() {\r\n            this.$refs.ruleForm1.validate((valid) => {\r\n                if (valid) {\r\n                    this.dialogVisible1=false;\r\n                    alert('手机号码修改成功!');\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        submit_check2() {\r\n            this.$refs.ruleForm2.validate((valid) => {\r\n                if (valid) {\r\n                    this.dialogVisible2=false;\r\n                    alert('邮箱地址修改成功!');\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}