{"version":3,"file":"rate2.mjs","sources":["../../../../../../packages/components/rate/src/rate.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"rateKls\"\n    role=\"slider\"\n    :aria-valuenow=\"currentValue\"\n    :aria-valuetext=\"text\"\n    aria-valuemin=\"0\"\n    :aria-valuemax=\"max\"\n    tabindex=\"0\"\n    @keydown=\"handleKey\"\n  >\n    <span\n      v-for=\"(item, key) in max\"\n      :key=\"key\"\n      :class=\"ns.e('item')\"\n      :style=\"{ cursor: rateDisabled ? 'auto' : 'pointer' }\"\n      @mousemove=\"setCurrentValue(item, $event)\"\n      @mouseleave=\"resetCurrentValue\"\n      @click=\"selectValue(item)\"\n    >\n      <el-icon\n        :class=\"[ns.e('icon'), { hover: hoverIndex === item }]\"\n        :style=\"getIconStyle(item)\"\n      >\n        <component\n          :is=\"iconComponents[item - 1]\"\n          v-if=\"!showDecimalIcon(item)\"\n        />\n        <el-icon\n          v-if=\"showDecimalIcon(item)\"\n          :style=\"decimalStyle\"\n          :class=\"[ns.e('icon'), ns.e('decimal')]\"\n        >\n          <component :is=\"decimalIconComponent\" />\n        </el-icon>\n      </el-icon>\n    </span>\n    <span\n      v-if=\"showText || showScore\"\n      :class=\"ns.e('text')\"\n      :style=\"{ color: textColor }\"\n    >\n      {{ text }}\n    </span>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, ref, watch } from 'vue'\nimport { isObject, isArray } from '@vue/shared'\nimport { formContextKey } from '@element-plus/tokens'\nimport { hasClass } from '@element-plus/utils'\nimport { EVENT_CODE, UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { StarFilled, Star } from '@element-plus/icons-vue'\nimport { useNamespace, useSize } from '@element-plus/hooks'\nimport { rateProps, rateEmits } from './rate'\n\nimport type { FormContext } from '@element-plus/tokens'\n\nfunction getValueFromMap<T>(\n  value: number,\n  map: Record<string, T | { excluded?: boolean; value: T }>\n) {\n  const isExcludedObject = (\n    val: unknown\n  ): val is { excluded?: boolean } & Record<any, unknown> => isObject(val)\n\n  const matchedKeys = Object.keys(map)\n    .map((key) => +key)\n    .filter((key) => {\n      const val = map[key]\n      const excluded = isExcludedObject(val) ? val.excluded : false\n      return excluded ? value < key : value <= key\n    })\n    .sort((a, b) => a - b)\n  const matchedValue = map[matchedKeys[0]]\n  return (isExcludedObject(matchedValue) && matchedValue.value) || matchedValue\n}\n\nexport default defineComponent({\n  name: 'ElRate',\n  components: {\n    ElIcon,\n    StarFilled,\n    Star,\n  },\n  props: rateProps,\n  emits: rateEmits,\n\n  setup(props, { emit }) {\n    const elForm = inject(formContextKey, {} as FormContext)\n\n    const rateSize = useSize()\n    const ns = useNamespace('rate')\n\n    const currentValue = ref(props.modelValue)\n    const hoverIndex = ref(-1)\n    const pointerAtLeftHalf = ref(true)\n\n    const rateKls = computed(() => [ns.b(), ns.m(rateSize.value)])\n\n    const rateDisabled = computed(() => props.disabled || elForm.disabled)\n    const text = computed(() => {\n      let result = ''\n      if (props.showScore) {\n        result = props.scoreTemplate.replace(\n          /\\{\\s*value\\s*\\}/,\n          rateDisabled.value ? `${props.modelValue}` : `${currentValue.value}`\n        )\n      } else if (props.showText) {\n        result = props.texts[Math.ceil(currentValue.value) - 1]\n      }\n      return result\n    })\n    const valueDecimal = computed(\n      () => props.modelValue * 100 - Math.floor(props.modelValue) * 100\n    )\n    const colorMap = computed(() =>\n      isArray(props.colors)\n        ? {\n            [props.lowThreshold]: props.colors[0],\n            [props.highThreshold]: { value: props.colors[1], excluded: true },\n            [props.max]: props.colors[2],\n          }\n        : props.colors\n    )\n    const activeColor = computed(() =>\n      getValueFromMap(currentValue.value, colorMap.value)\n    )\n    const decimalStyle = computed(() => {\n      let width = ''\n      if (rateDisabled.value) {\n        width = `${valueDecimal.value}%`\n      } else if (props.allowHalf) {\n        width = '50%'\n      }\n      return {\n        color: activeColor.value,\n        width,\n      }\n    })\n    const componentMap = computed(() =>\n      isArray(props.icons)\n        ? {\n            [props.lowThreshold]: props.icons[0],\n            [props.highThreshold]: {\n              value: props.icons[1],\n              excluded: true,\n            },\n            [props.max]: props.icons[2],\n          }\n        : props.icons\n    )\n    const decimalIconComponent = computed(() =>\n      getValueFromMap(props.modelValue, componentMap.value)\n    )\n    const voidComponent = computed(() =>\n      rateDisabled.value ? props.disabledVoidIcon : props.voidIcon\n    )\n    const activeComponent = computed(() =>\n      getValueFromMap(currentValue.value, componentMap.value)\n    )\n    const iconComponents = computed(() => {\n      const result = Array.from({ length: props.max })\n      const threshold = currentValue.value\n      result.fill(activeComponent.value, 0, threshold)\n      result.fill(voidComponent.value, threshold, props.max)\n      return result\n    })\n\n    function showDecimalIcon(item: number) {\n      const showWhenDisabled =\n        rateDisabled.value &&\n        valueDecimal.value > 0 &&\n        item - 1 < props.modelValue &&\n        item > props.modelValue\n      const showWhenAllowHalf =\n        props.allowHalf &&\n        pointerAtLeftHalf.value &&\n        item - 0.5 <= currentValue.value &&\n        item > currentValue.value\n      return showWhenDisabled || showWhenAllowHalf\n    }\n\n    function getIconStyle(item: number) {\n      const voidColor = rateDisabled.value\n        ? props.disabledVoidColor\n        : props.voidColor\n      return {\n        color: item <= currentValue.value ? activeColor.value : voidColor,\n      }\n    }\n\n    function selectValue(value: number) {\n      if (rateDisabled.value) {\n        return\n      }\n      if (props.allowHalf && pointerAtLeftHalf.value) {\n        emit(UPDATE_MODEL_EVENT, currentValue.value)\n        if (props.modelValue !== currentValue.value) {\n          emit('change', currentValue.value)\n        }\n      } else {\n        emit(UPDATE_MODEL_EVENT, value)\n        if (props.modelValue !== value) {\n          emit('change', value)\n        }\n      }\n    }\n\n    function handleKey(e: KeyboardEvent) {\n      if (rateDisabled.value) {\n        return\n      }\n      let _currentValue = currentValue.value\n      const code = e.code\n      if (code === EVENT_CODE.up || code === EVENT_CODE.right) {\n        if (props.allowHalf) {\n          _currentValue += 0.5\n        } else {\n          _currentValue += 1\n        }\n        e.stopPropagation()\n        e.preventDefault()\n      } else if (code === EVENT_CODE.left || code === EVENT_CODE.down) {\n        if (props.allowHalf) {\n          _currentValue -= 0.5\n        } else {\n          _currentValue -= 1\n        }\n        e.stopPropagation()\n        e.preventDefault()\n      }\n      _currentValue = _currentValue < 0 ? 0 : _currentValue\n      _currentValue = _currentValue > props.max ? props.max : _currentValue\n      emit(UPDATE_MODEL_EVENT, _currentValue)\n      emit('change', _currentValue)\n      return _currentValue\n    }\n\n    function setCurrentValue(value: number, event: MouseEvent) {\n      if (rateDisabled.value) {\n        return\n      }\n      if (props.allowHalf) {\n        // TODO: use cache via computed https://github.com/element-plus/element-plus/pull/5456#discussion_r786472092\n        let target = event.target as HTMLElement\n        if (hasClass(target, ns.e('item'))) {\n          target = target.querySelector(`.${ns.e('icon')}`)!\n        }\n        if (target.clientWidth === 0 || hasClass(target, ns.e('decimal'))) {\n          target = target.parentNode as HTMLElement\n        }\n        pointerAtLeftHalf.value = event.offsetX * 2 <= target.clientWidth\n        currentValue.value = pointerAtLeftHalf.value ? value - 0.5 : value\n      } else {\n        currentValue.value = value\n      }\n      hoverIndex.value = value\n    }\n\n    function resetCurrentValue() {\n      if (rateDisabled.value) {\n        return\n      }\n      if (props.allowHalf) {\n        pointerAtLeftHalf.value =\n          props.modelValue !== Math.floor(props.modelValue)\n      }\n      currentValue.value = props.modelValue\n      hoverIndex.value = -1\n    }\n\n    watch(\n      () => props.modelValue,\n      (val) => {\n        currentValue.value = val\n        pointerAtLeftHalf.value =\n          props.modelValue !== Math.floor(props.modelValue)\n      }\n    )\n\n    if (!props.modelValue) {\n      emit(UPDATE_MODEL_EVENT, 0)\n    }\n\n    return {\n      ns,\n      hoverIndex,\n      currentValue,\n      rateDisabled,\n      text,\n      decimalStyle,\n      decimalIconComponent,\n      iconComponents,\n      rateKls,\n\n      showDecimalIcon,\n      getIconStyle,\n      selectValue,\n      handleKey,\n      setCurrentValue,\n      resetCurrentValue,\n    }\n  },\n})\n</script>\n"],"names":["_createElementBlock","_normalizeClass","_openBlock","_Fragment","_renderList","_normalizeStyle","_createVNode","_createBlock","_resolveDynamicComponent","_createCommentVNode","_toDisplayString"],"mappings":"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"}