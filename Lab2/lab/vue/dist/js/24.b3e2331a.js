"use strict";(self["webpackChunkvueadmin_vue"]=self["webpackChunkvueadmin_vue"]||[]).push([[24],{7024:function(e,a,l){l.r(a),l.d(a,{default:function(){return U}});var t=l(3396);const p=e=>((0,t.dD)("data-v-04fc5ba4"),e=e(),(0,t.Cn)(),e),i=p((()=>(0,t._)("head",null,[(0,t._)("meta",{charset:"UTF-8"}),(0,t._)("title",null,"课程管理")],-1))),d=p((()=>(0,t._)("div",{class:"void"},[(0,t._)("span")],-1))),o={class:"showlist"},r=(0,t.Uk)("添加课程"),m=(0,t.Uk)("通过csv文件添加"),n=(0,t.Uk)("审核课程申请"),s=(0,t.Uk)("编辑"),u=(0,t.Uk)("删除"),w=(0,t.Uk)("添加"),h=(0,t.Uk)("修改"),c=(0,t.Uk)("删除"),b=(0,t.Uk)("同意"),f=(0,t.Uk)("拒绝");function g(e,a,l,p,g,W){const x=(0,t.up)("Nav"),_=(0,t.up)("el-button"),k=(0,t.up)("el-upload"),v=(0,t.up)("el-form-item"),y=(0,t.up)("el-form"),U=(0,t.up)("el-table-column"),C=(0,t.up)("el-popconfirm"),q=(0,t.up)("el-table"),V=(0,t.up)("el-tag"),D=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[i,(0,t._)("body",null,[(0,t.Wm)(x),d,(0,t._)("div",o,[(0,t.Wm)(y,{inline:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"primary",onClick:a[0]||(a[0]=a=>e.dialogVisible=!0)},{default:(0,t.w5)((()=>[r])),_:1}),(0,t.Wm)(k,{class:"upload-demo",action:"","on-change":e.handleChange,accept:".csv","auto-upload":!1},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"primary",style:{"margin-left":"20px","margin-right":"20px","margin-top":"10px"}},{default:(0,t.w5)((()=>[m])),_:1})])),_:1},8,["on-change"]),(0,t.Wm)(_,{type:"primary",onClick:a[1]||(a[1]=a=>e.dialogVisible=!0)},{default:(0,t.w5)((()=>[n])),_:1})])),_:1})])),_:1}),(0,t.Wm)(q,{data:e.tableData},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{fixed:"",prop:"id",label:"课程编号",width:"120px"}),(0,t.Wm)(U,{prop:"name",label:"课程名称",width:"120px"}),(0,t.Wm)(U,{prop:"college",label:"开课院系",width:"120px"}),(0,t.Wm)(U,{prop:"major",label:"学时",width:"120px"}),(0,t.Wm)(U,{prop:"idNumber",label:"学分",width:"120px"}),(0,t.Wm)(U,{prop:"phoneNumber",label:"任课教师",width:"120px"}),(0,t.Wm)(U,{prop:"email",label:"课程介绍",width:"120px"}),(0,t.Wm)(U,{prop:"state",label:"上课时间",width:"120px"}),(0,t.Wm)(U,{prop:"email",label:"上课地点",width:"120px"}),(0,t.Wm)(U,{prop:"state",label:"选课容量",width:"120px"}),(0,t.Wm)(U,{fixed:"right",prop:"icon",label:"操作",width:"170px"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(_,{onClick:a[2]||(a[2]=a=>e.editHandle(e.scope.row.id))},{default:(0,t.w5)((()=>[s])),_:1}),(0,t.Wm)(C,{title:"确认删除吗？"},{reference:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"danger"},{default:(0,t.w5)((()=>[u])),_:1})])),_:1})])])),_:1})])),_:1},8,["data"]),(0,t.Wm)(D,{id:"apply",modelValue:e.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialogVisible=a),title:"课程申请",width:"80%"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{data:e.applyData},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{fixed:"",prop:"request",label:"请求",width:"120px"},{default:(0,t.w5)((e=>[1===e.row.request?((0,t.wg)(),(0,t.j4)(V,{key:0,type:"success"},{default:(0,t.w5)((()=>[w])),_:1})):(0,t.kq)("",!0),2===e.row.request?((0,t.wg)(),(0,t.j4)(V,{key:1},{default:(0,t.w5)((()=>[h])),_:1})):(0,t.kq)("",!0),3===e.row.request?((0,t.wg)(),(0,t.j4)(V,{key:2,type:"danger"},{default:(0,t.w5)((()=>[c])),_:1})):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(U,{prop:"id",label:"课程编号",width:"120px"}),(0,t.Wm)(U,{prop:"name",label:"课程名称",width:"120px"}),(0,t.Wm)(U,{prop:"college",label:"开课院系",width:"120px"}),(0,t.Wm)(U,{prop:"major",label:"学时",width:"120px"}),(0,t.Wm)(U,{prop:"idNumber",label:"学分",width:"120px"}),(0,t.Wm)(U,{prop:"phoneNumber",label:"任课教师",width:"120px"}),(0,t.Wm)(U,{prop:"email",label:"课程介绍",width:"120px"}),(0,t.Wm)(U,{prop:"state",label:"上课时间",width:"120px"}),(0,t.Wm)(U,{prop:"email",label:"上课地点",width:"120px"}),(0,t.Wm)(U,{prop:"state",label:"选课容量",width:"120px"}),(0,t.Wm)(U,{fixed:"right",prop:"icon",label:"操作",width:"170px"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(_,{onClick:a[3]||(a[3]=a=>e.editHandle(e.scope.row.id))},{default:(0,t.w5)((()=>[b])),_:1}),(0,t.Wm)(_,{type:"danger"},{default:(0,t.w5)((()=>[f])),_:1})])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue"])])])],64)}l(1703);var W=l(5478),x=l(4870),_={name:"userManage",components:{Nav:W.Z},data(){return{dialogVisible:!1,ruleForm:{},tableData:[{id:1,name:"课程1"},{id:2,name:"课程2"}],applyData:[{request:2,id:1,name:"课程1"},{request:1,id:2,name:"课程2"}]}},created(){},methods:{submitForm(){},rejectForm(){},handleChange(e){this.fileTemp=e.raw,this.fileTemp?".csv"===this.fileTemp.type||"application/vnd.ms-excel"===this.fileTemp.type?this.importcsv(e.raw):this.$message({type:"warning",message:"附件格式错误，请删除后重新上传！"}):this.$message({type:"warning",message:"请上传附件！"})},importcsv(e){Papa.parse(e,{complete(e){console.log(e);let a=[];for(let l=0;l<e.data.length;l++){let t={};t.number=e.data[l][0],t.name=e.data[l][1],t.nameRemark=e.data[l][2],t.index=e.data[l][3],a.push(t)}a.splice(0,1),console.log("data",a),this.tableData=a}})},editHandle(e){this.$axios.get("/sys/menu/info/"+e).then((e=>{this.ruleForm=e.data.data,this.dialogVisible=!0}))},scrollToTop(e){const a=Array.from(e.querySelectorAll(".is-error"));if(!a.length)throw new Error("有错误，但是找不到错误位置");a[0]}}};const k=(0,x.iH)("");(0,t.Fl)((()=>tableData.filter((e=>!k.value||e.name.toLowerCase().includes(k.value.toLowerCase())))));var v=l(89);const y=(0,v.Z)(_,[["render",g],["__scopeId","data-v-04fc5ba4"]]);var U=y}}]);
//# sourceMappingURL=24.b3e2331a.js.map