{"version":3,"file":"js/752.f11ca27c.js","mappings":"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","sources":["webpack://vueadmin-vue/./src/views/sys/admin/userManage.vue","webpack://vueadmin-vue/./src/assets/js/usermanage.js","webpack://vueadmin-vue/./src/views/sys/admin/userManage.vue?eca0"],"sourcesContent":["<template>\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>用户管理</title>\r\n    </head>\r\n\r\n    <body>\r\n\r\n    <Nav></Nav>\r\n\r\n    <div class=\"void\">\r\n        <span></span>\r\n    </div>\r\n\r\n    <div class=\"showlist\">\r\n        <el-form :inline=\"true\" >\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"dialogVisible=true\">添加用户</el-button>\r\n                <el-upload\r\n                        class=\"upload-demo\"\r\n                        action=\"\"\r\n                        :on-change=\"handleChange\"\r\n                        accept=\".csv\"\r\n                        :auto-upload=\"false\">\r\n                    <el-button type=\"primary\" style=\"margin-left: 20px;margin-right: 20px;margin-top: 10px\">通过csv文件添加</el-button>\r\n                </el-upload>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-table :data=\"tableData\" >\r\n            <el-table-column fixed prop=\"id\" label=\"学号/工号\" width=\"120px\"/>\r\n            <el-table-column prop=\"role\" label=\"身份\" width=\"120px\" />\r\n            <el-table-column prop=\"name\" label=\"姓名\" width=\"120px\" />\r\n            <el-table-column prop=\"college\" label=\"学院\" width=\"120px\"/>\r\n            <el-table-column prop=\"major\" label=\"专业\" width=\"120px\"/>\r\n            <el-table-column prop=\"idNumber\" label=\"身份证号\" width=\"180px\"/>\r\n            <el-table-column prop=\"phoneNumber\" label=\"手机号\" width=\"120px\"/>\r\n            <el-table-column prop=\"email\" label=\"邮箱\" width=\"180px\"/>\r\n            <el-table-column prop=\"state\" label=\"状态\" width=\"120px\">\r\n                <template v-slot=\"scope\">\r\n                    <el-tag v-if=\"scope.row.state===1\" type=\"success\">在读</el-tag>\r\n                    <el-tag v-if=\"scope.row.state===2\" type=\"success\">在岗</el-tag>\r\n                    <el-tag v-if=\"scope.row.state===3\" type=\"info\" >已毕业</el-tag>\r\n                    <el-tag v-if=\"scope.row.state===4\" type=\"info\">已离职</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column fixed=\"right\" prop=\"icon\" label=\"操作\" width=\"170px\">\r\n            <div>\r\n                <el-button @click=\"editHandle(scope.row.id)\">编辑</el-button>\r\n                <el-popconfirm title=\"确认删除吗？\">\r\n                    <template #reference>\r\n                        <el-button type=\"danger\">删除</el-button>\r\n                    </template>\r\n                </el-popconfirm>\r\n            </div>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n\r\n        <el-dialog\r\n                v-model=\"dialogVisible\"\r\n                title=\"添加用户\"\r\n                width=\"600px\"\r\n        >\r\n            <el-form\r\n                    ref=\"ruleForm\"\r\n                    :model=\"ruleForm\"\r\n                    :rules=\"editRules\"\r\n                    label-width=\"120px\"\r\n                    class=\"demo-ruleForm\"\r\n                    :size=\"formSize\"\r\n            >\r\n                <el-form-item label=\"角色\" prop=\"role\">\r\n                    <el-radio-group v-model=\"ruleForm.role\">\r\n                        <el-radio label=1 model-value=\"1\">教师</el-radio>\r\n                        <el-radio label=2 model-value=\"2\">学生</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"学院\">\r\n                    <el-select v-model=\"ruleForm.college\" placeholder=\"选择学院\">\r\n                        <el-option label=\"学院1\" value=\"1\" />\r\n                        <el-option label=\"学院2\" value=\"2\" />\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"专业\">\r\n                    <el-select  v-model=\"ruleForm.major\" placeholder=\"选择专业\">\r\n                        <el-option label=\"专业1\" value=\"11\" />\r\n                        <el-option label=\"专业2\" value=\"21\" />\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"姓名\" prop=\"name\">\r\n                    <el-input v-model=\"ruleForm.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"学号/工号\" prop=\"id\" ref=\"id\">\r\n                    <el-input v-model=\"ruleForm.id\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"身份证号\" prop=\"idNumber\" ref=\"idNumber\">\r\n                    <el-input v-model=\"ruleForm.idNumber\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号\" prop=\"phoneNumber\">\r\n                    <el-input v-model=\"ruleForm.phoneNumber\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model=\"ruleForm.email\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm\" >添加</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n\r\n    </div>\r\n    </body>\r\n</template>\r\n\r\n<script src=\"../../../assets/js/usermanage.js\" type=\"text/javascript\">\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"../../../assets/css/userManage.css\";\r\n</style>\r\n","import Nav from \"@/views/inc/Nav.vue\";\r\n\r\nexport default {\r\n    name: \"userManage\",\r\n    components:{\r\n        Nav\r\n    },\r\n    data(){\r\n        let namecheck=(rule,value,callback)=>{\r\n            const relu = \"^[a-zA-Z\\u4e00-\\u9fa5]+$\";\r\n            const re = new RegExp(relu);\r\n            if (value.search(re) === -1){\r\n                callback(new Error('姓名输入只能为中英文'));\r\n                return false;\r\n            } else {\r\n                if(this.length>32){\r\n                    callback(new Error('仅支持32字符以内输入'));\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                    }\r\n                }\r\n\r\n        };\r\n        let idcheck=(rule,value,callback)=>{\r\n            console.log(this.ruleForm.role);\r\n            if(value[0]!=2||value[1]!=2){           //这里改成！==的话貌似会报错\r\n                callback(new Error('工号/学号前两位需为22'));\r\n                return false;\r\n            }\r\n            else if(isNaN(value))\r\n            {\r\n                callback(new Error('输入只能为数字'));\r\n                return false;\r\n            }\r\n            else if(this.ruleForm.role==='1')\r\n            {\r\n                if(value.length!==8)\r\n                {\r\n                    callback(new Error('请输入8位工号'))\r\n                    return false;\r\n                }\r\n                else\r\n                    return true;\r\n            }\r\n            else if(this.ruleForm.role==='2')\r\n            {\r\n                if(value.length!==6)\r\n                {\r\n                    callback(new Error('请输入6位学号'))\r\n                    return false;\r\n                }\r\n                else\r\n                    return true;\r\n            }\r\n        };\r\n        return{\r\n            dialogVisible:false,\r\n            ruleForm:{\r\n            },\r\n            editRules :({\r\n                name: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入姓名',\r\n                        trigger: 'blur'\r\n                    },\r\n                    { validator: namecheck,trigger: 'blur'}\r\n                ],\r\n                id: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入学号/工号',\r\n                        trigger: 'blur',\r\n                    },\r\n                    { validator: idcheck,trigger: 'blur'}\r\n                ],\r\n                idNumber: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入身份证号',\r\n                        trigger: 'blur',\r\n                    },\r\n                    {pattern:'/(^\\\\d{15}$)|(^\\\\d{18}$)|(^\\\\d{17}(\\\\d|X|x)$)/',message:'输入格式不正确，请检查输入',trigger: 'blur'}\r\n                ],\r\n                phoneNumber:[\r\n                    {pattern:'^1[0-9]{10}$',message:'请输入以1开头的11位数字',trigger:'blur',}\r\n                ],\r\n                email:[\r\n                    {pattern:'^[\\\\w\\\\-.]+@[a-z0-9]+(-[a-z0-9]+)?(\\\\.[a-z0-9]+(-[a-z0-9]+)?)*\\\\.[a-z]{2,4}$',message:'邮箱格式不正确',trigger: 'blur'}\r\n                ],\r\n                role: [\r\n                    {\r\n                        required: true,\r\n                        message: '请选择角色',\r\n                        trigger: 'change',\r\n                    },\r\n                ]\r\n            }),\r\n            tableData : [\r\n                {\r\n                    role: '0',\r\n                    name: 'admin',\r\n                    id:'000000',\r\n                    idNumber:'123456789012345678',\r\n                    phoneNumber:'12345678901',\r\n                    email:'12345678901@test.cn',\r\n                    state: 1,\r\n                    major:'专业1',\r\n                    college:'学院1'\r\n                },\r\n                {\r\n                    role: '1',\r\n                    name: 'test',\r\n                    id:'000000',\r\n                    idNumber:'123456789012345678',\r\n                    phoneNumber:'12345678901',\r\n                    email:'12345678901@test.cn',\r\n                    state:3\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    created(){\r\n        this.getUserForm()\r\n    },\r\n\r\n    methods:{\r\n        getUserForm(){\r\n            this.$axios.get(\"/admin/user/list\").then(res=>{\r\n                this.tableData=res.data.data;\r\n            })\r\n        },\r\n        submitForm(){\r\n            this.$refs.ruleForm.validate(valid=>{\r\n                if(valid){\r\n                    this.$axios.post('/admin/user/'+(this.ruleForm.id?'update':'save'),this.ruleForm)\r\n                    .then(res=>{\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: '操作成功',\r\n                            type: 'success',\r\n                            onClose:()=>{\r\n                                this.getUserForm()\r\n                            }\r\n                            });\r\n                        this.dialogVisible=false;\r\n                        }\r\n                    )\r\n                }\r\n                else{\r\n                    this.$nextTick(() => {\r\n                        this.scrollToTop(this.$refs.ruleForm.$el)\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        handleChange(file) {\r\n            this.fileTemp = file.raw\r\n            if (this.fileTemp) {\r\n                if ((this.fileTemp.type === '.csv') || (this.fileTemp.type === 'application/vnd.ms-excel')) {\r\n                    this.importcsv(file.raw)\r\n                } else {\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        message: '附件格式错误，请删除后重新上传！'\r\n                    })\r\n                }\r\n            } else {\r\n                this.$message({\r\n                    type: 'warning',\r\n                    message: '请上传附件！'\r\n                })\r\n            }\r\n        },\r\n        importcsv (obj) {\r\n            Papa.parse(obj, {\r\n                complete (results) {\r\n                    console.log(results)//调试查看csv文件的数据\r\n                    let data = []\r\n                    //遍历csv文件中的数据，存放到data中\r\n                    for (let i = 0; i < results.data.length; i++) {\r\n                        let obj = {}\r\n                        obj.number = results.data[i][0]\r\n                        obj.name = results.data[i][1]\r\n                        obj.nameRemark = results.data[i][2]\r\n                        obj.index = results.data[i][3]\r\n                        data.push(obj)\r\n                    }\r\n                    data.splice(0, 1)//将数组第一位的表格名称去除\r\n                    console.log('data', data)\r\n                    this.tableData = data//将数据放入要展示的表格中\r\n                }\r\n            })\r\n        },\r\n        editHandle(id){\r\n            this.$axios.get('/sys/menu/info/'+id).then(res=>{\r\n                this.ruleForm=res.data.data\r\n                this.dialogVisible=true\r\n            })\r\n        },\r\n        scrollToTop (node) {\r\n            const ChildHasError = Array.from(node.querySelectorAll('.is-error'))\r\n            if (!ChildHasError.length) throw new Error('有错误，但是找不到错误位置')\r\n        }\r\n    }\r\n}\r\n","import { render } from \"./userManage.vue?vue&type=template&id=0f8330b4&scoped=true\"\nimport script from \"../../../assets/js/usermanage.js?vue&type=script&lang=js\"\nexport * from \"../../../assets/js/usermanage.js?vue&type=script&lang=js\"\n\nimport \"./userManage.vue?vue&type=style&index=0&id=0f8330b4&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Git\\\\Git\\\\ss2022_group16\\\\Lab2\\\\lab\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f8330b4\"]])\n\nexport default __exports__"],"names":["_createElementVNode","charset","class","_hoisted_1","_createVNode","_component_Nav","_hoisted_2","_component_el_form","inline","_component_el_form_item","_component_el_button","type","onClick","_ctx","_component_el_upload","action","accept","style","_component_el_table","data","_component_el_table_column","fixed","prop","label","width","scope","row","state","_createBlock","_component_el_tag","id","_component_el_popconfirm","title","reference","_component_el_dialog","$event","ref","model","rules","size","_component_el_radio_group","role","_component_el_radio","_component_el_select","college","placeholder","_component_el_option","value","major","_component_el_input","name","idNumber","phoneNumber","email","components","Nav","namecheck","rule","callback","relu","re","RegExp","search","Error","this","length","idcheck","console","log","ruleForm","isNaN","dialogVisible","editRules","required","message","trigger","validator","pattern","tableData","created","getUserForm","methods","$axios","get","then","res","submitForm","$refs","validate","valid","post","$message","showClose","onClose","$nextTick","scrollToTop","$el","handleChange","file","fileTemp","raw","importcsv","obj","Papa","parse","complete","results","i","number","nameRemark","index","push","splice","editHandle","node","ChildHasError","Array","from","querySelectorAll","__exports__","render"],"sourceRoot":""}