{"ast":null,"code":"import { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot } from 'vue';\nimport '../../../hooks/index.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElCollapseTransition\",\n\n  setup() {\n    const ns = useNamespace(\"collapse-transition\");\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {};\n          el.dataset.oldPaddingTop = el.style.paddingTop;\n          el.dataset.oldPaddingBottom = el.style.paddingBottom;\n          el.style.maxHeight = 0;\n          el.style.paddingTop = 0;\n          el.style.paddingBottom = 0;\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow;\n\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`;\n            el.style.paddingTop = el.dataset.oldPaddingTop;\n            el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          } else {\n            el.style.maxHeight = 0;\n            el.style.paddingTop = el.dataset.oldPaddingTop;\n            el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          }\n\n          el.style.overflow = \"hidden\";\n        },\n\n        afterEnter(el) {\n          el.style.maxHeight = \"\";\n          el.style.overflow = el.dataset.oldOverflow;\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {};\n          el.dataset.oldPaddingTop = el.style.paddingTop;\n          el.dataset.oldPaddingBottom = el.style.paddingBottom;\n          el.dataset.oldOverflow = el.style.overflow;\n          el.style.maxHeight = `${el.scrollHeight}px`;\n          el.style.overflow = \"hidden\";\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0;\n            el.style.paddingTop = 0;\n            el.style.paddingBottom = 0;\n          }\n        },\n\n        afterLeave(el) {\n          el.style.maxHeight = \"\";\n          el.style.overflow = el.dataset.oldOverflow;\n          el.style.paddingTop = el.dataset.oldPaddingTop;\n          el.style.paddingBottom = el.dataset.oldPaddingBottom;\n        }\n\n      }\n    };\n  }\n\n});\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({\n    name: _ctx.ns.b()\n  }, toHandlers(_ctx.on)), {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n    _: 3\n  }, 16, [\"name\"]);\n}\n\nvar CollapseTransition = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { CollapseTransition as default };","map":{"version":3,"mappings":";;;;;AASA,MAAKA,YAAaC,eAAa;AAC7BC,MAAM,wBADuB;;AAE7BC,OAAQ;AACN,UAAMC,KAAKC,YAAa,uBAAxB;AAEO;AACLD,QADK;AAELE,QAAI;AACFC,oBAAYC,EAAZ,EAAgB;AACd,cAAI,CAACA,EAAG,QAAR,EAAiBA,GAAGC,OAAH,GAAa,EAAb;AAEdD,qBAAQE,aAAR,GAAwBF,GAAGG,KAAH,CAASC,UAAjC;AACAJ,qBAAQK,gBAAR,GAA2BL,GAAGG,KAAH,CAASG,aAApC;AAEHN,aAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;AACAP,aAAGG,KAAH,CAASC,UAAT,GAAsB,CAAtB;AACAJ,aAAGG,KAAH,CAASG,aAAT,GAAyB,CAAzB;AAAyB,SATzB;;AAYFE,cAAMR,EAAN,EAAU;AACLA,qBAAQS,WAAR,GAAsBT,GAAGG,KAAH,CAASO,QAA/B;;AACC,iBAAGC,YAAH,KAAoB,CAApB,EAAuB;AACtBX,qBAAMO,SAAN,GAAkB,GAAGP,EAAG,iBAAxB;AACAA,qBAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;AACAF,qBAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;AACE,WAJH,MAIG;AACLL,eAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;AACGP,qBAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;AACAF,qBAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;AAAiC;;AAGtCL,aAAGG,KAAH,CAASO,QAAT,GAAoB,QAApB;AAAoB,SAxBpB;;AA2BFE,mBAAWZ,EAAX,EAAe;AACbA,aAAGG,KAAH,CAASI,SAAT,GAAqB,EAArB;AACGP,mBAAMU,QAAN,GAAiBV,GAAGC,OAAH,CAAWQ,WAA5B;AAA4B,SA7B/B;;AAgCFI,oBAAYb,EAAZ,EAAgB;AACd,cAAI,CAACA,EAAG,QAAR,EAAiBA,GAAGC,OAAH,GAAa,EAAb;AACdD,qBAAQE,aAAR,GAAwBF,GAAGG,KAAH,CAASC,UAAjC;AACAJ,qBAAQK,gBAAR,GAA2BL,GAAGG,KAAH,CAASG,aAApC;AACAN,qBAAQS,WAAR,GAAsBT,GAAGG,KAAH,CAASO,QAA/B;AAEAV,mBAAMO,SAAN,GAAkB,GAAGP,EAAG,iBAAxB;AACHA,aAAGG,KAAH,CAASO,QAAT,GAAoB,QAApB;AAAoB,SAvCpB;;AA0CFI,cAAMd,EAAN,EAAU;AACJ,iBAAGW,YAAH,KAAoB,CAApB,EAAuB;AACzBX,eAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;AACAP,eAAGG,KAAH,CAASC,UAAT,GAAsB,CAAtB;AACAJ,eAAGG,KAAH,CAASG,aAAT,GAAyB,CAAzB;AAAyB;AAAA,SA9C3B;;AAkDFS,mBAAWf,EAAX,EAAe;AACbA,aAAGG,KAAH,CAASI,SAAT,GAAqB,EAArB;AACGP,mBAAMU,QAAN,GAAiBV,GAAGC,OAAH,CAAWQ,WAA5B;AACAT,mBAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;AACAF,mBAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;AAAiC;;AAtDpC;AAFC;AAwDmC;;AA7Df,EAA/B;;;AARE,kCAEaW,UAFb,YAEa;AAFAtB,UAAMuB,IAAG,GAAH,CAAGC,CAAH;AAEN,KAFcC,WAAMF,KAAGnB,EAAT,CAEd,CAFb,EAAmC;AAAAsB,qBACjC,MAAa,CAAbC,UAAa,yBADoB;AACpBC;AADoB,GAAnC","names":["_sfc_main","defineComponent","name","setup","ns","useNamespace","on","beforeEnter","el","dataset","oldPaddingTop","style","paddingTop","oldPaddingBottom","paddingBottom","maxHeight","enter","oldOverflow","overflow","scrollHeight","afterEnter","beforeLeave","leave","afterLeave","_Transition","_ctx","b","_toHandlers","default","_renderSlot","_"],"sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue"],"sourcesContent":["<template>\n  <transition :name=\"ns.b()\" v-on=\"on\">\n    <slot></slot>\n  </transition>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nexport default defineComponent({\n  name: 'ElCollapseTransition',\n  setup() {\n    const ns = useNamespace('collapse-transition')\n\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {}\n\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n          el.style.maxHeight = 0\n          el.style.paddingTop = 0\n          el.style.paddingBottom = 0\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          } else {\n            el.style.maxHeight = 0\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          }\n\n          el.style.overflow = 'hidden'\n        },\n\n        afterEnter(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {}\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n          el.dataset.oldOverflow = el.style.overflow\n\n          el.style.maxHeight = `${el.scrollHeight}px`\n          el.style.overflow = 'hidden'\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0\n            el.style.paddingTop = 0\n            el.style.paddingBottom = 0\n          }\n        },\n\n        afterLeave(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n          el.style.paddingTop = el.dataset.oldPaddingTop\n          el.style.paddingBottom = el.dataset.oldPaddingBottom\n        },\n      },\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}